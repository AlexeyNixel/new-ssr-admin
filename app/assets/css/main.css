@import 'tailwindcss';
@import '@nuxt/ui';

html {
  scroll-behavior: smooth;
}

:root {
  --color-primary-50: #1d9fb7;
  --color-primary-100: #06434f;
  --color-primary-200: #9be7f5;
  --color-primary-300: #73ddf1;
  --color-primary-400: #4cd4ed;
  --color-primary-500: #7592dc;
  --color-primary-600: #b87618;
  --color-primary-700: #157486;
  --color-primary-800: #0d4954;
  --color-primary-900: #061e23;

  h1 {
    @apply font-bold text-3xl md:text-4xl mb-2;
  }

  h2 {
    @apply font-bold text-2xl md:text-3xl mb-2;
  }

  h3 {
    @apply font-bold text-xl md:text-2xl mb-2;
  }

  .tiptap:nth-child(1) {
    margin-top: 20px;
  }

  .tiptap {
    .details {
      display: flex;
      gap: 0.25rem;
      margin: 1.5rem 0;
      border: 1px solid var(--color-neutral-300);
      border-radius: 0.5rem;
      padding: 0.5rem;
      list-style: none;

      summary {
        font-weight: 700;
      }

      > button {
        align-items: center;
        background: transparent;
        border-radius: 4px;
        display: flex;
        font-size: 0.625rem;
        height: 1.25rem;
        justify-content: center;
        line-height: 1;
        margin-top: 0.1rem;
        padding: 0;
        width: 1.25rem;

        &:hover {
          background-color: var(--color-neutral-300);
        }

        &::before {
          content: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDEyIDI0Ij48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjE1NyAxMi43MTFMNC41IDE4LjM2OGwtMS40MTQtMS40MTRsNC45NS00Ljk1bC00Ljk1LTQuOTVMNC41IDUuNjRsNS42NTcgNS42NTdhMSAxIDAgMCAxIDAgMS40MTQiLz48L3N2Zz4=');
        }
      }

      &.is-open > button::before {
        transform: rotate(90deg);
      }

      > div {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        width: 100%;

        > [data-type='detailsContent'] > :last-child {
          margin-bottom: 0.5rem;
          color: var(--color-neutral-600);
        }
      }

      .details {
        margin: 0.5rem 0;
      }
    }

    img {
      display: block;
    }

    [data-resize-handle] {
      position: absolute;
      background: rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(255, 255, 255, 0.8);
      border-radius: 2px;
      z-index: 10;

      &:hover {
        background: rgba(0, 0, 0, 0.8);
      }

      /* Corner handles */
      &[data-resize-handle='top-left'],
      &[data-resize-handle='top-right'],
      &[data-resize-handle='bottom-left'],
      &[data-resize-handle='bottom-right'] {
        width: 8px;
        height: 8px;
      }

      &[data-resize-handle='top-left'] {
        top: -4px;
        left: -4px;
        cursor: nwse-resize;
      }

      &[data-resize-handle='top-right'] {
        top: -4px;
        right: -4px;
        cursor: nesw-resize;
      }

      &[data-resize-handle='bottom-left'] {
        bottom: -4px;
        left: -4px;
        cursor: nesw-resize;
      }

      &[data-resize-handle='bottom-right'] {
        bottom: -4px;
        right: -4px;
        cursor: nwse-resize;
      }

      /* Edge handles */
      &[data-resize-handle='top'],
      &[data-resize-handle='bottom'] {
        height: 6px;
        left: 8px;
        right: 8px;
      }

      &[data-resize-handle='top'] {
        top: -3px;
        cursor: ns-resize;
      }

      &[data-resize-handle='bottom'] {
        bottom: -3px;
        cursor: ns-resize;
      }

      &[data-resize-handle='left'],
      &[data-resize-handle='right'] {
        width: 6px;
        top: 8px;
        bottom: 8px;
      }

      &[data-resize-handle='left'] {
        left: -3px;
        cursor: ew-resize;
      }

      &[data-resize-handle='right'] {
        right: -3px;
        cursor: ew-resize;
      }
    }

    [data-resize-state='true'] [data-resize-wrapper] {
      outline: 1px solid rgba(0, 0, 0, 0.25);
      border-radius: 0.125rem;
    }

    table {
      @apply shadow;
      border-collapse: collapse;
      margin: 0;
      overflow: hidden;
      table-layout: fixed;
      width: 100%;
      border-radius: 10px;
      border: 1px solid black;

      td,
      th {
        border: 1px solid var(--color-neutral-200);
        box-sizing: border-box;
        min-width: 1em;
        padding: 6px 8px;
        position: relative;
        vertical-align: top;

        > * {
          margin-bottom: 0;
        }
      }

      th {
        background-color: var(--color-neutral-100);
        font-weight: bold;
        text-align: left;
      }

      .selectedCell:after {
        background: var(--color-neutral-200);
        content: '';
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
        pointer-events: none;
        position: absolute;
        z-index: 2;
      }

      .column-resize-handle {
        background-color: var(--color-purple-500);
        bottom: -2px;
        pointer-events: none;
        position: absolute;
        right: -2px;
        top: 0;
        width: 4px;
      }
    }
  }
}
